<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <% content_for :title, "Headache logs" %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Headache logs</h1>
    <%= link_to "New headache log", new_headache_log_path, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
  </div>

  <%= turbo_stream_from current_user, "headache_logs" %>

  <div id="headache_logs" class="space-y-4">
    <%= render @headache_logs %>
  </div>

  <%= button_to "Generate Share Link", generate_share_link_path, method: :post, class: "rounded-lg py-3 px-5 bg-green-600 text-white block font-medium" %>
  <% if @share_link %>
    <div class="mt-4 p-4 bg-yellow-100 border border-yellow-400 rounded">
      <p class="font-semibold">Share this link with your doctor:</p>
      <input type="text" value="<%= @share_link %>" class="w-full p-2 mt-2 border rounded" readonly onclick="this.select();">
    </div>
  <% end %>

</div>

